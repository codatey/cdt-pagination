/*
 * cdt-pagination 2.2.1
 * Author: Mustapha Bouh | CODATEY
 * This work is licensed under the terms of the MIT license.
 */
"use strict";var distPageNo,postLabel,isIndex,pgnMemo={t:"2.2.1",g:-1,o:null},pgnUtils={p:function(e,a){for(var n in a)a.hasOwnProperty(n)&&(e[n]=a[n]);return e},l:function(e){e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),e=window.location.href,e=a.exec(e);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},i:function(e,a){setTimeout(console[e].bind(console,a))},P:function(e,a){pgnMemo.o&&4!==pgnMemo.o.readyState&&pgnMemo.o.abort(),pgnMemo.o=new XMLHttpRequest,pgnMemo.o.open("GET",e,!0),pgnMemo.o.onreadystatechange=function(){4===pgnMemo.o.readyState&&"function"==typeof a&&a(pgnMemo.o.status,pgnMemo.o.responseText)},pgnMemo.o.send(null)}},cPgn={u:function(e){e=e.feed.entry[0],e=encodeURIComponent(e.published.$t.replace(/\.\d+/,"")),e=isIndex?"/search?updated-max="+e+"&page="+distPageNo+"&max-results="+perPage:"/search/label/"+postLabel+"?updated-max="+e+"&page="+distPageNo+"&max-results="+perPage;location.href=e},m:function(e){e=parseInt(e.feed.openSearch$totalResults.$t);e<=perPage||currentPageNo>Math.ceil(e/perPage)?pgnFns.N(""):(cPgn.h.updateTitle&&1<currentPageNo&&(document.title+=" -  "+cPgn.h.text_page+" "+currentPageNo),pgnFns.v(e))},U:{selector:"blog-pager",text_page:"الصفحة",text_of:"من",perPage:8,showPageOf:!1,showNav:!0,showNavPrev:!0,showNavNext:!0,showNavFirst:!0,showNavLast:!0,navPrevContent:"السابق",navNextContent:"الموالي",navFirstContent:"البداية",navLastContent:"النهاية",showEllipsis:!0,showLastPages:!0,ellipsis:"...",updateTitle:!1,matchMedia:!1},h:pgnUtils.p(cPgn.U,void 0!==window.paginationConfig?paginationConfig:{})},locationURL=window.location.href,currentPageNo=1,perPage=cPgn.h.perPage,pgnFns={N:function(e){var a=document.getElementById(cPgn.h.selector);if(a&&(a.innerHTML=e,a.setAttribute("data-loaded","1")),""!==e)for(var n=a.querySelectorAll("a[data-page]"),t=0;t<n.length;t++)!function(){var a=n[t];a.addEventListener("click",function(e){e.preventDefault();e=a.getAttribute("data-page");isNaN(e)||isNaN(parseFloat(e))?pgnUtils.i("error","data-page is not a page number"):pgnFns.L(parseInt(e))})}()},M:function(){if(setTimeout(console.log.bind(console,"⚡ %ccdt-pagination","color: #3074d4;",pgnMemo.t)),!document.getElementById(cPgn.h.selector))return pgnUtils.i("error",cPgn.h.selector+" id not found"),!1;var e,a=!pgnUtils.l("q"),n=-1===locationURL.indexOf("archive.html"),t=!/\d{4}\/(?!lebal\/hcraes)/.test(locationURL.split("").reverse().join("")),s=!cPgn.h.matchMedia||window.matchMedia(cPgn.h.matchMedia).matches;a&&n&&t&&s?(pgnUtils.l("page")&&(currentPageNo=parseInt(pgnUtils.l("page"))||1),e=-1===locationURL.indexOf("/search/label/")?(isIndex=!0,perPage=parseInt(pgnUtils.l("max-results"))||perPage,"/feeds/posts/summary?max-results=1&alt=json"):(isIndex=!1,perPage=1<locationURL.split("?").length?(postLabel=locationURL.substring(locationURL.indexOf("/search/label/")+14,locationURL.indexOf("?")),parseInt(pgnUtils.l("max-results"))||20):(postLabel=locationURL.substring(locationURL.indexOf("/search/label/")+14,locationURL.match(/\?|#|&|$/).index),20),"/feeds/posts/summary/-/"+postLabel+"?alt=json&max-results=1"),pgnUtils.P(e,function(e,a){200===e?cPgn.m(JSON.parse(a)):pgnUtils.i("log",a)})):(e=document.getElementById(cPgn.h.selector))&&e.setAttribute("data-loaded","1")},v:function(e){var a="",n=Math.ceil(e/perPage);cPgn.h.showPageOf&&(a+="<span class='showPageOf'>"+cPgn.h.text_page+" "+currentPageNo+" "+cPgn.h.text_of+" "+n+"</span>"),cPgn.h.showNav||(cPgn.h.showNavFirst=cPgn.h.showNavPrev=cPgn.h.showNavNext=cPgn.h.showNavLast=!1);for(var t=1;t<=n;t++){var s={a:!cPgn.h.showNavFirst&&1===t,b:!cPgn.h.showNavLast&&cPgn.h.showLastPages&&t===n,c:currentPageNo<6&&t<6,d:currentPageNo-2<=t&&t<=currentPageNo+2,e:cPgn.h.showLastPages&&n-5<currentPageNo&&n-5<t},g=s.a||s.b||s.c||s.d||s.e;cPgn.h.showNav&&1===t&&(cPgn.h.showNavFirst&&5<currentPageNo&&(a+=isIndex?'<a class="pageNum pgnNav first" href="/">'+cPgn.h.navFirstContent+"</a>":'<a class="pageNum pgnNav first" href="/search/label/'+postLabel+"?max-results="+perPage+'">'+cPgn.h.navFirstContent+"</a>"),cPgn.h.showNavPrev&&1<currentPageNo&&(a+=2===currentPageNo?isIndex?'<a class="pageNum pgnNav prev" href="/">'+cPgn.h.navPrevContent+"</a>":'<a class="pageNum pgnNav prev" href="/search/label/'+postLabel+"?max-results="+perPage+'">'+cPgn.h.navPrevContent+"</a>":'<a class="pageNum pgnNav prev" href="#" data-page="'+(currentPageNo-1)+'">'+cPgn.h.navPrevContent+"</a>")),g&&(a+=currentPageNo===t?'<span class="pageNum current">'+t+"</span>":1===t?isIndex?'<a class="pageNum" href="/">1</a>':'<a class="pageNum" href="/search/label/'+postLabel+"?max-results="+perPage+'">1</a>':'<a class="pageNum" href="#" data-page="'+t+'">'+t+"</a>"),cPgn.h.showEllipsis&&(s=3===t&&!cPgn.h.showNavFirst&&!g,g=t===n-1&&cPgn.h.showLastPages&&!cPgn.h.showNavLast&&!g,(s||g)&&(a+='<span class="pageNum delimiter"> '+cPgn.h.ellipsis+" </span>")),cPgn.h.showNav&&t===n&&(cPgn.h.showNavNext&&t!==currentPageNo&&(a+='<a class="pageNum pgnNav next" href="#" data-page="'+(currentPageNo+1)+'">'+cPgn.h.navNextContent+"</a>"),cPgn.h.showNavLast&&currentPageNo<n-4&&(a+='<a class="pageNum pgnNav last" href="#" data-page="'+n+'">'+cPgn.h.navLastContent+"</a>"))}pgnFns.N(a)},L:function(e){pgnMemo.g!==e?(pgnMemo.o&&4!==pgnMemo.o.readyState&&pgnMemo.o.abort(),pgnMemo.g=e,e="&start-index="+((distPageNo=e)-1)*perPage,e=isIndex?"/feeds/posts/summary?max-results=1"+e+"&alt=json":"/feeds/posts/summary/-/"+postLabel+"?max-results=1"+e+"&alt=json",pgnUtils.P(e,function(e,a){200===e?cPgn.u(JSON.parse(pgnMemo.o.responseText)):(pgnUtils.i("log","An error occurred"),pgnMemo.g=-1)})):pgnUtils.i("log","same request already loading")}};pgnFns.M();