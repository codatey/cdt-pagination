/*
 * cdt-pagination 2.0.0-alpha
 * Author: Mustapha Bouh
 * This work is licensed under the terms of the MIT license.
 */
var pgnMemo={t:"2.0.0-alpha",g:-1,i:null};var pgnUtils={o:function(e,a){for(var n in a){if(a.hasOwnProperty(n)){e[n]=a[n]}}return e},p:function(e){e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=window.location.href,t=a.exec(n);if(!t){return null}if(!t[2]){return""}return decodeURIComponent(t[2].replace(/\+/g," "))},l:function(e,a){setTimeout(console[e].bind(console,a))},u:function(e,a){if(pgnMemo.i&&pgnMemo.i.readyState!==4){pgnMemo.i.abort()}pgnMemo.i=new XMLHttpRequest;pgnMemo.i.open("GET",e,true);pgnMemo.i.onreadystatechange=function(){if(pgnMemo.i.readyState===4){if(typeof a==="function"){a(pgnMemo.i.status,pgnMemo.i.responseText)}}};pgnMemo.i.send(null)}};var cdtPgn={m:function(e){var a=e.feed.entry[0],n=encodeURIComponent(a.published.$t.replace(/\.\d+/,"")),t;if(isIndex){t="/search?updated-max="+n+"&page="+distPageNo+"&max-results="+perPage}else{t="/search/label/"+postLabel+"?updated-max="+n+"&page="+distPageNo+"&max-results="+perPage}location.href=t},v:function(e){var a=parseInt(e.feed.openSearch$totalResults.$t);if(a>perPage){pgnFns.N(a)}else{pgnFns.P("")}},S:{selector:"blog-pager",text_page:"الصفحة",text_of:"من",perPage:8,showPageOf:false,showLastPage:true,showNav:true,showNavPrev:true,showNavNext:true,showNavFirst:true,showNavLast:true,navPrevContent:"السابق",navNextContent:"الموالي",navFirstContent:"البداية",navLastContent:"النهاية",showEllipsis:true,ellipsis:"..."}};var pgnSettings=pgnUtils.o(cdtPgn.S,typeof window.paginationConfig!=="undefined"?paginationConfig:{});var locationURL=window.location.href;var currentPageNo=1;var perPage=pgnSettings.perPage;var distPageNo;var postLabel;var isIndex;var pgnFns={P:function(e){var a=document.getElementById(pgnSettings.selector);if(a){a.innerHTML=e;a.setAttribute("data-loaded","1")}if(e!==""){a.querySelectorAll("a[data-page]").forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var a=n.getAttribute("data-page");if(!isNaN(a)&&!isNaN(parseFloat(a))){pgnFns.h(parseInt(a))}else{pgnUtils.l("error","data-page is not a page number")}})})}},U:function(){setTimeout(console.log.bind(console,"⚡ %ccdt-pagination","color: #3074d4;",pgnMemo.t));var e={L:!pgnUtils.p("q"),_:locationURL.indexOf("archive.html")===-1,M:!/(?<!\/search\/label)\/\d{4}/.test(locationURL)};if(e.L&&e._&&e.M){if(pgnUtils.p("page")){currentPageNo=parseInt(pgnUtils.p("page"))||1}var a;if(locationURL.indexOf("/search/label/")===-1){isIndex=true;perPage=parseInt(pgnUtils.p("max-results"))||perPage;a="/feeds/posts/summary?max-results=1&alt=json"}else{isIndex=false;if(locationURL.split("?").length>1){postLabel=locationURL.substring(locationURL.indexOf("/search/label/")+14,locationURL.indexOf("?"));perPage=parseInt(pgnUtils.p("max-results"))||20}else{postLabel=locationURL.substring(locationURL.indexOf("/search/label/")+14,locationURL.match(/\?|#|&|$/).index);perPage=20}a="/feeds/posts/summary/-/"+postLabel+"?alt=json&max-results=1"}pgnUtils.u(a,function(e,a){if(e===200){cdtPgn.v(JSON.parse(a))}else{pgnUtils.l("log",a)}})}else{var n=document.getElementById(pgnSettings.selector);if(n){n.setAttribute("data-loaded","1")}}},N:function(e){var a="";var n=" ";var t={R:Math.ceil(e/perPage)};if(pgnSettings.showPageOf){a+="<span class='showPageOf'>"+pgnSettings.text_page+n+currentPageNo+n+pgnSettings.text_of+n+t.R+"</span>"}if(!pgnSettings.showNav){pgnSettings.showNavFirst=pgnSettings.showNavPrev=pgnSettings.showNavNext=pgnSettings.showNavLast=false}for(var s=1;s<=t.R;s++){var g={a:!pgnSettings.showNavFirst&&s===1,b:!pgnSettings.showNavLast&&s===t.R,c:currentPageNo<6&&s<6,d:s>=currentPageNo-2&&s<=currentPageNo+2,e:pgnSettings.showLastPage&&(currentPageNo>t.R-5&&s>t.R-5)};var i=g.a||g.b||g.c||g.d||g.e;if(pgnSettings.showNav&&s===1){if(pgnSettings.showNavFirst&&currentPageNo>5){if(isIndex){a+='<a class="pageNum pgnNav first" href="/">'+pgnSettings.navFirstContent+"</a>"}else{a+='<a class="pageNum pgnNav first" href="/search/label/'+postLabel+"?max-results="+perPage+'">'+pgnSettings.navFirstContent+"</a>"}}if(pgnSettings.showNavPrev&&currentPageNo>1){if(currentPageNo===2){if(isIndex){a+='<a class="pageNum pgnNav prev" href="/">'+pgnSettings.navPrevContent+"</a>"}else{a+='<a class="pageNum pgnNav prev" href="/search/label/'+postLabel+"?max-results="+perPage+'">'+pgnSettings.navPrevContent+"</a>"}}else{a+='<a class="pageNum pgnNav prev" href="#" data-page="'+(currentPageNo-1)+'">'+pgnSettings.navPrevContent+"</a>"}}}if(i){if(currentPageNo===s){a+='<span class="pageNum current">'+s+"</span>"}else if(s===1){if(isIndex){a+='<a class="pageNum" href="/">1</a>'}else{a+='<a class="pageNum" href="/search/label/'+postLabel+"?max-results="+perPage+'">1</a>'}}else{a+='<a class="pageNum" href="#" data-page="'+s+'">'+s+"</a>"}}if(pgnSettings.showEllipsis){var r={I:s===3&&!pgnSettings.showNavFirst&&!i,F:s===t.R-1&&pgnSettings.showLastPage&&!pgnSettings.showNavLast&&!i};if(r.I||r.F){a+='<span class="pageNum delimiter"> '+pgnSettings.ellipsis+" </span>"}}if(pgnSettings.showNav&&s===t.R){if(pgnSettings.showNavNext&&s!==currentPageNo){a+='<a class="pageNum pgnNav next" href="#" data-page="'+(currentPageNo+1)+'">'+pgnSettings.navNextContent+"</a>"}if(pgnSettings.showNavLast&&currentPageNo<t.R-4){a+='<a class="pageNum pgnNav last" href="#" data-page="'+t.R+'">'+pgnSettings.navLastContent+"</a>"}}}pgnFns.P(a)},h:function(e){if(pgnMemo.g!==e){if(pgnMemo.i&&pgnMemo.i.readyState!==4){pgnMemo.i.abort()}pgnMemo.g=e;distPageNo=e;var a="&start-index="+(e-1)*perPage,n;if(isIndex){n="/feeds/posts/summary?max-results=1"+a+"&alt=json"}else{n="/feeds/posts/summary/-/"+postLabel+"?max-results=1"+a+"&alt=json"}pgnUtils.u(n,function(e,a){if(e===200){cdtPgn.m(JSON.parse(pgnMemo.i.responseText))}else{pgnUtils.l("log","An error occurred");pgnMemo.g=-1}})}else{pgnUtils.l("log","same request already loading")}}};pgnFns.U();