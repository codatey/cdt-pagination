/*
 * cdt-pagination 2.0.0-alpha
 * Author: Mustapha Bouh
 * This work is licensed under the terms of the MIT license.
 */
var pgnMemo={t:"2.0.0-alpha",g:-1,i:null};var pgnUtils={o:function(e,n){for(var a in n){if(n.hasOwnProperty(a)){e[a]=n[a]}}return e},p:function(e){e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=window.location.href,t=n.exec(a);if(!t){return null}if(!t[2]){return""}return decodeURIComponent(t[2].replace(/\+/g," "))},l:function(e,n){setTimeout(console[e].bind(console,n))},u:function(e,n){if(pgnMemo.i&&pgnMemo.i.readyState!==4){pgnMemo.i.abort()}pgnMemo.i=new XMLHttpRequest;pgnMemo.i.open("GET",e,true);pgnMemo.i.onreadystatechange=function(){if(pgnMemo.i.readyState===4){if(typeof n==="function"){n(pgnMemo.i.status,pgnMemo.i.responseText)}}};pgnMemo.i.send(null)}};var cdtPgn={m:function(e){var n=e.feed.entry[0],a=encodeURIComponent(n.published.$t.replace(/\.\d+/,"")),t;if(isIndex){t="/search?updated-max="+a+"&page="+distPageNo+"&max-results="+perPage}else{t="/search/label/"+postLabel+"?updated-max="+a+"&page="+distPageNo+"&max-results="+perPage}location.href=t},v:function(e){var n=parseInt(e.feed.openSearch$totalResults.$t);if(n>perPage){pgnFns.N(n)}else{pgnFns.P("")}},S:{selector:"blog-pager",text_page:"الصفحة",text_of:"من",perPage:8,showPageOf:false,showLastPage:true,showNav:true,showNavPrev:true,showNavNext:true,showNavFirst:true,showNavLast:true,navPrevContent:"السابق",navNextContent:"الموالي",navFirstContent:"البداية",navLastContent:"النهاية",showEllipsis:true,ellipsis:"..."}};var pgnSettings=pgnUtils.o(cdtPgn.S,typeof window.paginationConfig!=="undefined"?paginationConfig:{});var locationURL=window.location.href;var currentPageNo=1;var perPage=pgnSettings.perPage;var distPageNo;var postLabel;var isIndex;var pgnFns={P:function(e){var n=document.getElementById(pgnSettings.selector);if(n){n.innerHTML=e;n.setAttribute("data-loaded","1")}if(e!==""){n.querySelectorAll("a[data-page]").forEach(function(a){a.addEventListener("click",function(e){e.preventDefault();var n=a.getAttribute("data-page");if(!isNaN(n)&&!isNaN(parseFloat(n))){pgnFns.h(parseInt(n))}else{pgnUtils.l("error","data-page is not a page number")}})})}},U:function(){setTimeout(console.log.bind(console,"⚡ %ccdt-pagination","color: #3074d4;",pgnMemo.t));if(!document.getElementById(pgnSettings.selector)){pgnUtils.l("error",pgnSettings.selector+" id not found");return false}var e={L:!pgnUtils.p("q"),_:locationURL.indexOf("archive.html")===-1,M:!/(?<!\/search\/label)\/\d{4}/.test(locationURL)};if(e.L&&e._&&e.M){if(pgnUtils.p("page")){currentPageNo=parseInt(pgnUtils.p("page"))||1}var n;if(locationURL.indexOf("/search/label/")===-1){isIndex=true;perPage=parseInt(pgnUtils.p("max-results"))||perPage;n="/feeds/posts/summary?max-results=1&alt=json"}else{isIndex=false;if(locationURL.split("?").length>1){postLabel=locationURL.substring(locationURL.indexOf("/search/label/")+14,locationURL.indexOf("?"));perPage=parseInt(pgnUtils.p("max-results"))||20}else{postLabel=locationURL.substring(locationURL.indexOf("/search/label/")+14,locationURL.match(/\?|#|&|$/).index);perPage=20}n="/feeds/posts/summary/-/"+postLabel+"?alt=json&max-results=1"}pgnUtils.u(n,function(e,n){if(e===200){cdtPgn.v(JSON.parse(n))}else{pgnUtils.l("log",n)}})}else{var a=document.getElementById(pgnSettings.selector);if(a){a.setAttribute("data-loaded","1")}}},N:function(e){var n="";var a=" ";var t={R:Math.ceil(e/perPage)};if(pgnSettings.showPageOf){n+="<span class='showPageOf'>"+pgnSettings.text_page+a+currentPageNo+a+pgnSettings.text_of+a+t.R+"</span>"}if(!pgnSettings.showNav){pgnSettings.showNavFirst=pgnSettings.showNavPrev=pgnSettings.showNavNext=pgnSettings.showNavLast=false}for(var s=1;s<=t.R;s++){var g={a:!pgnSettings.showNavFirst&&s===1,b:!pgnSettings.showNavLast&&s===t.R,c:currentPageNo<6&&s<6,d:s>=currentPageNo-2&&s<=currentPageNo+2,e:pgnSettings.showLastPage&&(currentPageNo>t.R-5&&s>t.R-5)};var i=g.a||g.b||g.c||g.d||g.e;if(pgnSettings.showNav&&s===1){if(pgnSettings.showNavFirst&&currentPageNo>5){if(isIndex){n+='<a class="pageNum pgnNav first" href="/">'+pgnSettings.navFirstContent+"</a>"}else{n+='<a class="pageNum pgnNav first" href="/search/label/'+postLabel+"?max-results="+perPage+'">'+pgnSettings.navFirstContent+"</a>"}}if(pgnSettings.showNavPrev&&currentPageNo>1){if(currentPageNo===2){if(isIndex){n+='<a class="pageNum pgnNav prev" href="/">'+pgnSettings.navPrevContent+"</a>"}else{n+='<a class="pageNum pgnNav prev" href="/search/label/'+postLabel+"?max-results="+perPage+'">'+pgnSettings.navPrevContent+"</a>"}}else{n+='<a class="pageNum pgnNav prev" href="#" data-page="'+(currentPageNo-1)+'">'+pgnSettings.navPrevContent+"</a>"}}}if(i){if(currentPageNo===s){n+='<span class="pageNum current">'+s+"</span>"}else if(s===1){if(isIndex){n+='<a class="pageNum" href="/">1</a>'}else{n+='<a class="pageNum" href="/search/label/'+postLabel+"?max-results="+perPage+'">1</a>'}}else{n+='<a class="pageNum" href="#" data-page="'+s+'">'+s+"</a>"}}if(pgnSettings.showEllipsis){var r={I:s===3&&!pgnSettings.showNavFirst&&!i,F:s===t.R-1&&pgnSettings.showLastPage&&!pgnSettings.showNavLast&&!i};if(r.I||r.F){n+='<span class="pageNum delimiter"> '+pgnSettings.ellipsis+" </span>"}}if(pgnSettings.showNav&&s===t.R){if(pgnSettings.showNavNext&&s!==currentPageNo){n+='<a class="pageNum pgnNav next" href="#" data-page="'+(currentPageNo+1)+'">'+pgnSettings.navNextContent+"</a>"}if(pgnSettings.showNavLast&&currentPageNo<t.R-4){n+='<a class="pageNum pgnNav last" href="#" data-page="'+t.R+'">'+pgnSettings.navLastContent+"</a>"}}}pgnFns.P(n)},h:function(e){if(pgnMemo.g!==e){if(pgnMemo.i&&pgnMemo.i.readyState!==4){pgnMemo.i.abort()}pgnMemo.g=e;distPageNo=e;var n="&start-index="+(e-1)*perPage,a;if(isIndex){a="/feeds/posts/summary?max-results=1"+n+"&alt=json"}else{a="/feeds/posts/summary/-/"+postLabel+"?max-results=1"+n+"&alt=json"}pgnUtils.u(a,function(e,n){if(e===200){cdtPgn.m(JSON.parse(pgnMemo.i.responseText))}else{pgnUtils.l("log","An error occurred");pgnMemo.g=-1}})}else{pgnUtils.l("log","same request already loading")}}};pgnFns.U();