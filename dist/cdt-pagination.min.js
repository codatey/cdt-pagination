/*
cdt-Pagination 1.1.0
Author: Mustapha Bouh
Link: https://github.com/codatey/cdt-paginaton
This work is licensed under the terms of the MIT license.
For a copy, see <https://opensource.org/licenses/MIT>.
*/
if("object"!=typeof paginationConfig)var paginationConfig={text:{page:"الصفحة",of:"من"},perPage:8};function getParam(e){e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),t=window.location.href,n=a.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}String.prototype.regexIndexOf=function(e,a){var t=this.substring(a||0).search(e);return t>=0?t+(a||0):t};var distPageNo,postLabel,isIndex,locationURL=location.href,currentPageNo=1,perPage=paginationConfig.perPage;function paginationResuts(e){var a=document.getElementById("blog-pager");a&&(a.innerHTML=e)}function initPagination(){if(Boolean(getParam("q"))||-1!=locationURL.indexOf(".html")||locationURL.regexIndexOf(/\/\d{4}/)>-1&&!(locationURL.indexOf("/search/label/")>-1))console.log("the pagination dont work in this page");else{-1!=locationURL.indexOf("#PageNo=")&&(currentPageNo=parseInt(locationURL.substring(locationURL.indexOf("#PageNo=")+8,locationURL.length)));var e=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");-1==locationURL.indexOf("/search/label/")?(isIndex=!0,perPage=parseInt(getParam("max-results"))||perPage,a.src="/feeds/posts/summary?max-results=1&alt=json-in-script&callback=totalResults"):(isIndex=!1,-1!=locationURL.regexIndexOf(/\?[a-z-]+=/g)?(postLabel=locationURL.substring(locationURL.indexOf("/search/label/")+14,locationURL.regexIndexOf(/\?[a-z-]+=/g)),perPage=getParam("max-results")||20):(postLabel=locationURL.substring(locationURL.indexOf("/search/label/")+14,locationURL.match(/\?|#|&|$/).index),perPage=20),a.src="/feeds/posts/summary/-/"+postLabel+"?alt=json-in-script&callback=totalResults&max-results=1"),e.appendChild(a)}}function totalResults(e){var a=parseInt(e.feed.openSearch$totalResults.$t,10);a>perPage?loopinitPagination(a):paginationResuts("")}function loopinitPagination(e){var a="",t=Math.ceil(e/perPage);a+="<span class='showPageOf'>"+paginationConfig.text.page+" "+currentPageNo+" "+paginationConfig.text.of+" "+t+"</span>";for(var n=1;n<=t;n++){var s={a:n<=1,b:n>=t,c:n<=5&&currentPageNo<=5,d:n>=currentPageNo-2&&n<=currentPageNo+3,e:currentPageNo>=t-4&&n>=t-4};(s.a||s.b||s.c||s.d||s.e)&&(a+=currentPageNo==n?'<span class="pageNum current">'+n+"</span>":1==n?isIndex?'<span class="pageNum"><a href="/">1</a></span>':'<span class="pageNum"><a href="/search/label/'+postLabel+"?max-results="+perPage+'">1</a></span>':'<span class="pageNum"><a href="#" onclick="redirectPage('+n+');return false">'+n+"</a></span>"),currentPageNo>=6&&3==n&&(a+='<span class="pageNum delimiter">...</span>'),currentPageNo<t-5&&n==t-3&&(a+='<span class="pageNum delimiter">...</span>')}paginationResuts(a)}function redirectPage(e){distPageNo=e;var a=(e-1)*perPage,t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("script");n.src=isIndex?"/feeds/posts/summary?start-index="+a+"&max-results=1&alt=json-in-script&callback=getTimestamp":"/feeds/posts/summary/-/"+postLabel+"?start-index="+a+"&max-results=1&alt=json-in-script&callback=getTimestamp",t.appendChild(n)}function getTimestamp(e){var a,t=e.feed.entry[0],n=encodeURIComponent(t.published.$t.substring(0,19)+t.published.$t.substring(23,29));a=isIndex?"/search?updated-max="+n+"&max-results="+perPage+"#PageNo="+distPageNo:"/search/label/"+postLabel+"?updated-max="+n+"&max-results="+perPage+"#PageNo="+distPageNo,location.href=a}initPagination();
